(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{426:function(s,e,t){"use strict";t.r(e);var a=t(8),r=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("create date: 2023-06-26 23:07"),e("br"),s._v("\nStatus: #idea"),e("br"),s._v("\nTags: [[mysql]]")]),s._v(" "),e("hr"),s._v(" "),e("h1",{attrs:{id:"mysql安装配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mysql安装配置"}},[s._v("#")]),s._v(" mysql安装配置")]),s._v(" "),e("blockquote",[e("p",[s._v("本文由 "),e("a",{attrs:{href:"http://ksria.com/simpread/",target:"_blank",rel:"noopener noreferrer"}},[s._v("简悦 SimpRead"),e("OutboundLink")],1),s._v(" 转码， 原文地址 "),e("a",{attrs:{href:"https://blog.csdn.net/Escorts/article/details/118941623",target:"_blank",rel:"noopener noreferrer"}},[s._v("blog.csdn.net"),e("OutboundLink")],1)])]),s._v(" "),e("p",[e("strong",[s._v("目录")])]),s._v(" "),e("p",[e("a",{attrs:{href:"#t0"}},[s._v("前提条件")])]),s._v(" "),e("p",[e("a",{attrs:{href:"#t1"}},[s._v("一、通过官网下载 tar 压缩包或 rpm 安装包来安装。")])]),s._v(" "),e("p",[e("a",{attrs:{href:"#t2"}},[s._v("二、通过 yum 的方式安装")])]),s._v(" "),e("p",[e("a",{attrs:{href:"#t3"}},[s._v("三、安装完后，启动 mysql")])]),s._v(" "),e("h3",{attrs:{id:"前提条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[s._v("#")]),s._v(" 前提条件")]),s._v(" "),e("p",[s._v("1、查看是否安装了 mysql 服务（有则自行卸载删除）。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\n\n1.  yum list installed mysql*\n\n3.  rpm –qa|grep mysql*\n\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h3",{attrs:{id:"一、通过官网下载-tar-压缩包或-rpm-安装包来安装。"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、通过官网下载-tar-压缩包或-rpm-安装包来安装。"}},[s._v("#")]),s._v(" 一、通过官网下载 tar 压缩包或 rpm 安装包来安装。")]),s._v(" "),e("p",[e("strong",[s._v("1、确定服务器的基础框架是 arm 架构还是 x86 架构。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("uname -m\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("执行示例：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721100214142.png",alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("2、确定出你需要的系统版本。")])]),s._v(" "),e("p",[s._v("以我的为例，是 CentOS 7 系统。（CentOS 版本是基于 Red Hat 版本开发的）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cat /etc/redhat-release\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("执行示例：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721101519133.png",alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("3、打开 mysql 官网下载地址。")])]),s._v(" "),e("p",[e("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/",title:"MySQL :: Download MySQL Community Server",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL :: Download MySQL Community Server"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("strong",[s._v("4、选择对应的选项进行下载。")])]),s._v(" "),e("p",[s._v("示例（注意红色箭头标记的关键字）：")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721141248983.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VzY29ydHM=,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("5、通过 WinSCP、XFTP 上传等工具上传服务器并解压。")])]),s._v(" "),e("p",[s._v("①、创建 jdk 安装路径")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mkdir /usr/local/mysql\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("②、上传压缩包到任意路径，解压")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("tar -zxvf 安装包 -C 指定目录\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("然后得到若干 rpm 包。")]),s._v(" "),e("p",[e("strong",[s._v("6、删除原有的 mariadb，否则可能会报异常。")])]),s._v(" "),e("p",[s._v("①、先查看一下是否已经安装了，")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rpm -qa|grep mariadb\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/img_convert/4ba71c0637eb86b5b0d8be71c08ef55f.png",alt:""}})]),s._v(" "),e("p",[s._v("②、删除 mariadb。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rpm -e --nodeps mariadb-libs\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("7、安装 rmp 包")])]),s._v(" "),e("p",[s._v("逐个安装，命令如下：")]),s._v(" "),e("p",[s._v("【必须安装】")]),s._v(" "),e("p",[s._v("rpm -ivh mysql-community-common-8.0.26-1.el8.x86_64.rpm")]),s._v(" "),e("p",[s._v("rpm -ivh mysql-community-libs-8.0.26-1.el8.x86_64.rpm")]),s._v(" "),e("p",[s._v("rpm -ivh mysql-community-client-8.0.26-1.el8.x86_64.rpm")]),s._v(" "),e("p",[s._v("rpm -ivh mysql-community-server-8.0.26-1.el8.x86_64.rpm")]),s._v(" "),e("p",[s._v("【非必须安装】")]),s._v(" "),e("p",[s._v("rpm -ivh mysql-community-libs-compat-8.0.26-1.el8.x86_64.rpm")]),s._v(" "),e("p",[s._v("rpm -ivh mysql-community-embedded-compat-8.0.26-1.el8.x86_64.rpm")]),s._v(" "),e("p",[s._v("rpm -ivh mysql-community-devel-8.0.26-1.el8.x86_64.rpm")]),s._v(" "),e("p",[s._v("rpm -ivh mysql-community-test-8.0.26-1.el8.x86_64.rpm")]),s._v(" "),e("h3",{attrs:{id:"二、通过-yum-的方式安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、通过-yum-的方式安装"}},[s._v("#")]),s._v(" 二、通过 yum 的方式安装")]),s._v(" "),e("p",[e("strong",[s._v("1、查看服务器上是否有现成的安装包。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum list mysql*\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("2、去 "),e("a",{attrs:{href:"https://dev.mysql.com/downloads/repo/yum/",title:"mysql官网",target:"_blank",rel:"noopener noreferrer"}},[s._v("mysql 官网"),e("OutboundLink")],1),s._v("的 yum 资源库找到对应的 rpm 文件的下载链接。")])]),s._v(" "),e("p",[s._v("①、确定系统版本。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cat /etc/redhat-release\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("②、复制对应的资源下载链接。"),e("a",{attrs:{href:"https://dev.mysql.com/downloads/repo/yum/",title:"MySQL :: Download MySQL Yum Repository",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL :: Download MySQL Yum Repository"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721143834185.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VzY29ydHM=,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721143907931.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VzY29ydHM=,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("3、在 linux 中下载、安装 yum 资源。")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("rpm -ivh 资源下载链接\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("如：rpm -ivh "),e("a",{attrs:{href:"https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm",title:"https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dev.mysql.com/get/mysql80-community-release-el7-3.noarch.rpm"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("如果出现下图的异常，就多试几下。")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721144218659.png",alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("4、查看当前 mysql 的当前版本")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum info mysql-community-server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721145432511.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VzY29ydHM=,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("5、安装 mysql")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("yum -y install mysql-community-server\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/2021072115014126.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"三、安装完后-启动-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、安装完后-启动-mysql"}},[s._v("#")]),s._v(" 三、安装完后，启动 mysql")]),s._v(" "),e("p",[e("strong",[s._v("1、启动 mysqld 服务")])]),s._v(" "),e("p",[s._v("①、使用 “systemctl” 检测 mysqld 服务状态。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl status mysqld\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721151005814.png",alt:""}})]),s._v(" "),e("p",[s._v("②、启动 mysqld 服务。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl start mysqld\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("③、再次查看 mysqld 服务的状态。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("systemctl status mysqld\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721151047647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VzY29ydHM=,size_16,color_FFFFFF,t_70",alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("2、查询 mysql 的初始密码")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("less /var/log/mysqld.log\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721151532717.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0VzY29ydHM=,size_16,color_FFFFFF,t_70",alt:""}}),s._v(" "),e("strong",[s._v("3、修改密码")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("mysqladmin -u root -p password\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://img-blog.csdnimg.cn/20210721152705355.png",alt:""}})]),s._v(" "),e("p",[s._v("备注："),e("br"),s._v("\nroot 账号一般只添加了 localhost 访问 (这是推荐的)，如若调试阶段不想通过 ssh 跳板连接，建议开个新账号。")]),s._v(" "),e("p",[s._v("步骤 1：查看 root 账号的 ip 访问权限（执行结果："),e("code",[s._v("localhost")]),s._v("和"),e("code",[s._v("127.0.0.1")]),s._v("，是无法从外部连接的）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SELECT host FROM mysql.user WHERE User = 'root';\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("步骤 2：新建账号并指定密码和 ip（使用 "),e("code",[s._v("%")]),s._v(" 通配符表示允许任何 ip 访问）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\n\n1.  CREATE USER 'my_name'@'%' IDENTIFIED BY 'my_password';\n2.  GRANT ALL PRIVILEGES ON *.* TO 'my_name'@'%';\n\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("步骤 3：刷新配置")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("FLUSH PRIVILEGES;\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这样 my_name 就可以不通过 ssh 跳板直接连接了。")]),s._v(" "),e("h1",{attrs:{id:"references"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[s._v("#")]),s._v(" references")])])}),[],!1,null,null,null);e.default=r.exports}}]);